(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[161],{2538:function(e,s,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/categories",function(){return t(5506)}])},4823:function(e,s,t){"use strict";t.d(s,{Z:function(){return o}});var l=t(5893),a=t(1664),r=t.n(a),i=t(1163),n=t(1761);let c=[{href:"/products",label:"Products"},{href:"/categories",label:"Categories"},{href:"/pos",label:"POS"},{href:"/history/inbound",label:"Inbound History"},{href:"/history/outbound",label:"Outbound History"}];function d(){let{logout:e}=(0,n.aC)(),s=(0,i.useRouter)(),t=e=>s.pathname===e||s.pathname.startsWith("".concat(e,"/"));return(0,l.jsx)("aside",{className:"w-full bg-slate-950 text-slate-100 lg:sticky lg:top-0 lg:h-screen lg:w-64",children:(0,l.jsxs)("div",{className:"flex flex-col border-b border-slate-800 bg-gradient-to-b from-slate-950 to-slate-900 lg:h-full",children:[(0,l.jsxs)("div",{className:"flex items-center gap-2 border-b border-slate-800 px-4 py-4",children:[(0,l.jsx)("div",{className:"flex h-10 w-10 items-center justify-center rounded-lg bg-indigo-500 text-base font-semibold text-white shadow-lg shadow-indigo-500/30",children:"POS"}),(0,l.jsxs)("div",{children:[(0,l.jsx)(r(),{href:"/products",className:"text-lg font-semibold text-white",children:"Cuslabs POS"}),(0,l.jsx)("p",{className:"text-xs text-slate-400",children:"Cuslabs POS"})]})]}),(0,l.jsx)("nav",{className:"flex-1 space-y-1 px-3 py-4 text-sm",children:c.map(e=>(0,l.jsx)(r(),{href:e.href,className:["flex w-full items-center gap-2 rounded-lg px-3 py-2 text-sm font-medium transition",t(e.href)?"bg-indigo-500/20 text-white ring-1 ring-indigo-400/70":"text-slate-100 hover:bg-slate-800 hover:text-white"].join(" "),children:e.label},e.href))}),(0,l.jsx)("div",{className:"border-t border-slate-800 px-3 py-4",children:(0,l.jsx)("button",{className:"w-full rounded-lg bg-slate-800 px-3 py-2 text-center text-slate-100 transition hover:bg-slate-700",onClick:e,type:"button",children:"Logout"})})]})})}function o(e){let{children:s}=e;return(0,l.jsx)("div",{className:"min-h-screen bg-slate-100",children:(0,l.jsxs)("div",{className:"flex flex-col lg:flex-row",children:[(0,l.jsx)(d,{}),(0,l.jsx)("main",{className:"flex-1 px-4 py-6 lg:px-10",children:(0,l.jsx)("div",{className:"mx-auto w-full max-w-6xl",children:s})})]})})}},5506:function(e,s,t){"use strict";t.r(s),t.d(s,{default:function(){return d}});var l=t(5893),a=t(4823),r=t(7294),i=t(7829);function n(){let{categories:e,subcategories:s,addCategory:t,addSubcategory:a}=(0,i.m)(),[n,c]=(0,r.useState)(""),[d,o]=(0,r.useState)(""),[x,m]=(0,r.useState)(""),[u,h]=(0,r.useState)(null);return(0,l.jsxs)("div",{className:"grid gap-6 md:grid-cols-2",children:[(0,l.jsxs)("section",{className:"card space-y-3",children:[(0,l.jsx)("h2",{className:"text-lg font-semibold text-slate-900",children:"Add Category"}),(0,l.jsxs)("form",{onSubmit:e=>{e.preventDefault(),h(null);let s=t(n);if(!s){h("Category name is required or already exists.");return}c(""),x||m(s.id)},className:"space-y-3",children:[(0,l.jsxs)("div",{children:[(0,l.jsx)("label",{className:"mb-1 block text-sm font-medium text-slate-700",children:"Category name"}),(0,l.jsx)("input",{value:n,onChange:e=>c(e.target.value),placeholder:"e.g. Beverages"})]}),(0,l.jsx)("button",{type:"submit",className:"rounded-lg bg-indigo-600 px-4 py-2 text-white shadow-sm hover:bg-indigo-700",children:"Create"})]})]}),(0,l.jsxs)("section",{className:"card space-y-3",children:[(0,l.jsx)("h2",{className:"text-lg font-semibold text-slate-900",children:"Add Subcategory"}),(0,l.jsxs)("form",{onSubmit:e=>{if(e.preventDefault(),h(null),!x){h("Select a category first.");return}if(!a(d,x)){h("Subcategory name is required or already exists for this category.");return}o("")},className:"space-y-3",children:[(0,l.jsxs)("div",{children:[(0,l.jsx)("label",{className:"mb-1 block text-sm font-medium text-slate-700",children:"Category"}),(0,l.jsxs)("select",{value:x,onChange:e=>m(e.target.value),children:[(0,l.jsx)("option",{value:"",children:"Select category"}),e.map(e=>(0,l.jsx)("option",{value:e.id,children:e.name},e.id))]})]}),(0,l.jsxs)("div",{children:[(0,l.jsx)("label",{className:"mb-1 block text-sm font-medium text-slate-700",children:"Subcategory name"}),(0,l.jsx)("input",{value:d,onChange:e=>o(e.target.value),placeholder:"e.g. Soda"})]}),(0,l.jsx)("button",{type:"submit",className:"rounded-lg bg-indigo-600 px-4 py-2 text-white shadow-sm hover:bg-indigo-700",children:"Create"})]})]}),u&&(0,l.jsx)("p",{className:"text-sm text-rose-600",children:u}),(0,l.jsxs)("section",{className:"card md:col-span-2",children:[(0,l.jsx)("h3",{className:"text-lg font-semibold text-slate-900",children:"Existing Categories"}),(0,l.jsx)("div",{className:"mt-3 grid gap-3 md:grid-cols-2",children:0===e.length?(0,l.jsx)("p",{className:"text-sm text-slate-500",children:"No categories yet."}):e.map(e=>(0,l.jsxs)("div",{className:"rounded border border-slate-200 bg-slate-50 p-3",children:[(0,l.jsx)("p",{className:"font-semibold text-slate-900",children:e.name}),(0,l.jsxs)("div",{className:"mt-2 flex flex-wrap gap-2",children:[s.filter(s=>s.categoryId===e.id).map(e=>(0,l.jsx)("span",{className:"rounded bg-white px-2 py-1 text-xs text-slate-700 shadow-sm ring-1 ring-slate-200",children:e.name},e.id)),0===s.filter(s=>s.categoryId===e.id).length&&(0,l.jsx)("span",{className:"text-xs text-slate-500",children:"No subcategories"})]})]},e.id))})]})]})}var c=t(1761);function d(){let{authReady:e,token:s}=(0,c.QL)();return e&&s?(0,l.jsxs)(a.Z,{children:[(0,l.jsxs)("div",{className:"mb-4",children:[(0,l.jsx)("h1",{className:"page-title",children:"Categories"}),(0,l.jsx)("p",{className:"page-subtitle",children:"Manage categories and subcategories for your products."})]}),(0,l.jsx)(n,{})]}):null}}},function(e){e.O(0,[664,888,774,179],function(){return e(e.s=2538)}),_N_E=e.O()}]);